<div class="container p-2 mx-auto m-0">
  <div
    class="flex flex-row flex-wrap py-4"
    [ngClass]="{
      'flex flex-row flex-wrap py-4 justify-center items-center':
        isCategoryPage,
      'flex flex-row flex-wrap py-4': !isCategoryPage
    }"
  >
    <aside
      class="w-full sm:w-1/3 md:w-1/4 lg:w-1/5 px-2"
      *ngIf="!isCategoryPage"
    >
      <div class="sticky top-0 p-4 bg-white rounded-xl w-full">
        <ul class="nav flex flex-col overflow-hidden">
          <li *ngFor="let cat of categories">
            <mat-checkbox
              [(ngModel)]="cat.checked"
              [color]="cat.color"
              (ngModelChange)="categoryFilter()"
            >
              {{ cat.name }}
            </mat-checkbox>
          </li>
          <!-- <li class="nav-item">
            <a
              class="nav-link text-purple-800 hover:text-purple-600 truncate"
              href="/#home"
            >
              <span class="fa fa-home mr-2"></span> Home
            </a>
          </li> -->
        </ul>
      </div>
    </aside>
    <main
      [ngClass]="{
        'w-full pt-1 px-2 mt-5': isCategoryPage,
        'w-full md:w-3/4 pt-1 px-2': !isCategoryPage
      }"
      role="main"
    >
      <div class="flex flex-wrap -m-4 gap-3 justify-start">
        <!-- component -->
        <div
          *ngFor="let product of products"
          class="relative m-5 flex max-w-xs flex-col overflow-hidden rounded-lg border border-gray-100 bg-white shadow-md lg:w-1/4 md:w-1/2 w-full"
        >
          <a class="relative mx-3 mt-3 flex h-60 overflow-hidden rounded-xl">
            <img
              (click)="navigateToProductPage(product.id)"
              class="object-cover cursor-pointer"
              src="{{ product.image }}"
              alt="product image"
            />
          </a>
          <div class="mt-4 px-5 pb-5 cursor-pointer">
            <a>
              <h5 class="text-lg tracking-tight text-slate-900">
                {{ product.name }}
              </h5>
            </a>
            <div class="mt-2 mb-5 flex items-center justify-between">
              <p>
                <span class="text-xl font-bold text-indigo-700">
                  ${{ product.price }}
                </span>
                <!-- <span class="text-sm text-slate-900 line-through">$699</span> -->
              </p>
            </div>
            <button
              (click)="addToCart(product.id)"
              class="w-full flex items-center justify-center bg-gray-800 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-indigo-600"
            >
              <i class="fa-solid fa-cart-shopping me-2"></i>
              Add to cart
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
